<app-breadcrumb [title]="'Clients'" [items]="['Apps']" [active_item]="'Clients'"></app-breadcrumb>
<!-- Container-fluid starts-->
<div class="container-fluid">
  <div class="email-wrap bookmark-wrap">
    <div class="row">
      <div class="col-xl-3 box-col-3">
        <div class="email-left-aside">
          <div class="card">
            <div class="card-body">
              <div class="email-app-sidebar left-bookmark">
                <div class="media">
                  <div class="media-size-email"><img class="me-3 rounded-circle" src="assets/images/user/user.png" alt=""></div>
                  <div class="media-body">
                    <h6 class="f-w-600">MARK JENCO</h6>
                    <p>Markjecno&#64;gmail.com</p>
                  </div>
                </div>
                <ul class="nav main-menu contact-options" role="tablist">
                  <li class="nav-item">
                    <button class="badge-light-primary w-100 btn-mail" type="button" (click)="AddClient.openModal()">
                      <i class="me-2" data-feather="users"></i> Ajouter client
                    </button>
                  </li>
                  <li class="nav-item"><span class="main-title">Prestation</span></li>
                  <li>
                    <a id="pills-personal-tab" data-bs-toggle="pill" href="#pills-personal" role="tab" aria-controls="pills-personal" aria-selected="true">
                      <span class="title">Tous</span>
                    </a>
                  </li>
                  <!-- <li>
                    <button class="btn btn-category" type="button" (click)="AddCategory.openModal()"><span class="title"> + Add Category</span></button>
                  </li> -->
                  <li><a class="show" id="pills-organization-tab" data-bs-toggle="pill" href="#pills-organization" role="tab" aria-controls="pills-organization"
                      aria-selected="false"><span class="title">
                        Installation maroc</span></a></li>
                  <li><a href="javascript:void(0)"><span class="title">Installation france</span></a></li>
                  <!-- <li><a href="javascript:void(0)"><span class="title">Favorites</span></a></li> -->

                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-xl-9 col-md-12 box-col-9">
        <div class="email-right-aside bookmark-tabcontent contacts-tabs">
          <div class="card email-body radius-left">
            <div class="ps-0">
              <div class="tab-content">
                <div class="tab-pane fade active show" id="pills-personal" role="tabpanel" aria-labelledby="pills-personal-tab">
                  <div class="card mb-0">
                    <div class="card-header d-flex">
                      <h5>Par prestation</h5><span class="f-14 pull-right mt-0">{{ Clients.length }} Clients</span>
                    </div>
                    <div class="card-body p-0">
                      <div class="row list-persons" id="addcon">

                        <div [class]="CurrentClient == null ? 'col-xl-12 col-md-12' : 'col-xl-4 xl-50 col-md-5'">
                          <div class="nav flex-column nav-pills" id="v-pills-tab" role="tablist" aria-orientation="vertical">

                            <!-- href="#v-pills-user"  -->
                            <a *ngFor="let client of Clients;" class="contact-tab-0 nav-link active" [id]="client.ClientId" data-bs-toggle="pill" href="javascript:void(0)"
                              role="tab" aria-controls="v-pills-user" aria-selected="false" [class.active]="client.IsSelected != null && client.IsSelected"
                              (click)="OnClientSelected(client.ClientId)">
                              <div class="media">
                                <!-- Photo -->
                                <img *ngIf="client.ImgSrc != null" class="img-50 img-fluid m-r-20 rounded-circle update_img_0" [src]="client.ImgSrc" alt="">
                                <img *ngIf="client.ImgSrc == null" class="img-50 img-fluid m-r-20 rounded-circle update_img_0" src="assets/images/user/user.png" alt="">
                                <div class="media-body">
                                  <h6><span class="first_name_0">{{ client.Prenom }} </span><span class="last_name_0">{{ client.Nom }}</span></h6>
                                  <p class="email_add_0">{{ client.Email }}</p>
                                </div>
                              </div>
                            </a>

                          </div>
                        </div>

                        <div class="col-xl-8 xl-50 col-md-7" *ngIf="CurrentClient != null">
                          <div class="tab-content" id="v-pills-tabContent" [ngStyle]="{ 'display': editContact ? 'none' : ''}">
                            <div class="tab-pane contact-tab-0 tab-content-child fade show active" id="v-pills-user" role="tabpanel" aria-labelledby="v-pills-user-tab">
                              <div class="profile-mail">
                                <div class="media">
                                  <img *ngIf="CurrentClient.ImgSrc != null" class="img-100 img-fluid m-r-20 rounded-circle update_img_0" [src]="CurrentClient.ImgSrc" alt="">
                                  <img *ngIf="CurrentClient.ImgSrc == null" class="img-100 img-fluid m-r-20 rounded-circle update_img_0" src="assets/images/user/user.png" alt="">
                                  <input class="updateimg" type="file" name="img">
                                  <div class="media-body mt-0">
                                    <h5><span class="first_name_0">{{ CurrentClient.Prenom }} </span><span class="last_name_0">{{ CurrentClient.Nom }}</span></h5>
                                    <p class="email_add_0">{{ CurrentClient.Email }}</p>
                                    <ul>
                                      <li><a href="javascript:void(0)" (click)="editContact = true">Modifier</a></li>
                                      <li><a href="javascript:void(0)" (click)="sweetAlertDelete(CurrentClient.ClientId)">Supprimer</a></li>
                                      <li><a href="javascript:void(0)" (click)="showHistory()">Historique</a></li>
                                      <li><a href="javascript:void(0)" (click)="Print.openModal()">Imprimer</a></li>
                                      <li><a href="javascript:void(0)" (click)="navigateToDetails(CurrentClient.ClientId)" >Détails</a></li>
                                    </ul>
                                  </div>
                                </div>
                                <div class="email-general">
                                  <h6 class="mb-3">Information Générale</h6>
                                  <ul>
                                    <li>Nom <span class="font-primary first_name_0">{{CurrentClient.Nom}}</span></li>
                                    <li>Prénom <span class="font-primary last_name_0">{{CurrentClient.Prenom}}</span></li>
                                    <!-- <li>Gender <span class="font-primary">Male</span></li> -->
                                    <li>Date De Naissance <span class="font-primary">{{ CurrentClient.DateNaissance | date: 'dd/MM/yyyy'}} </span></li>
                                    <!-- <li>Personality<span class="font-primary personality_0">Cool</span></li> -->
                                    <!-- <li>City<span class="font-primary city_0">moline acres</span></li> -->
                                    <li>Téléphone <span class="font-primary mobile_num_0">{{CurrentClient.Telephone1}}</span></li>
                                    <li>Email <span class="font-primary email_add_0">{{CurrentClient.Email}}</span></li>
                                    <!-- <li>Website<span class="font-primary url_add_0">www.test.com</span></li> -->
                                    <!-- <li>Interest<span class="font-primary interest_0">photography</span></li> -->
                                  </ul>
                                </div>
                              </div>
                            </div>
                          </div>

                          <!-- #region EditClient -->
                          <div class="contact-editform ps-0" [ngStyle]="{ 'display': !editContact ? 'none' : ''}">
                            <form>
                              <div class="row g-2">
                                <div class="mt-0 mb-3 col-md-12">
                                  <label>Nom et Prénom</label>
                                  <div class="row">
                                    <div class="col-sm-6">
                                      <input class="form-control" id="first_name" type="text" required="" placeholder="First Name" value="{{CurrentClient.Nom}}">
                                    </div>
                                    <div class="col-sm-6">
                                      <input class="form-control" id="last_name" type="text" required="" placeholder="Last Name" value="{{CurrentClient.Prenom}}">
                                    </div>
                                  </div>
                                </div>
                                <div class="mt-0 mb-3 col-md-12">
                                  <label>Email</label>
                                  <input class="form-control" id="email_add" type="text" required="" autocomplete="off" value="{{CurrentClient.Email}}">
                                </div>
                                <div class="mt-0 mb-3 col-md-12">
                                  <label>Téléphone</label>
                                  <div class="row">
                                    <div class="col-sm-6">
                                      <input class="form-control" id="mobile_num" type="text" required="" autocomplete="off" value="{{CurrentClient.Tel}}">
                                    </div>
                                    <div class="col-sm-6">
                                      <select class="form-control">
                                        <option>Mobile</option>
                                        <option>Work</option>
                                        <option>Others</option>
                                      </select>
                                    </div>
                                  </div>
                                </div>
                              </div>

                              <button class="btn btn-secondary update-contact" type="button">Save</button>
                              <button class="btn btn-primary" type="button" data-bs-dismiss="modal">Cancel</button>
                            </form>
                          </div>
                          <!-- #endregion EditClient -->

                        </div>

                      </div>
                    </div>
                  </div>
                </div>
                <div class="fade tab-pane" id="pills-organization" role="tabpanel" aria-labelledby="pills-organization">
                  <div class="card mb-0">
                    <div class="card-header d-flex">
                      <h5>Organization</h5><span class="f-14 pull-right mt-0">10 Contacts</span>
                    </div>
                    <div class="card-body p-0">
                      <div class="row list-persons">
                        <div class="col-xl-4 xl-50 col-md-5">
                          <div class="nav flex-column nav-pills" id="v-pills-tab1" role="tablist" aria-orientation="vertical"><a class="nav-link active" id="v-pills-iduser-tab"
                              data-bs-toggle="pill" href="#v-pills-iduser" role="tab" aria-controls="v-pills-iduser" aria-selected="true">
                              <div class="media"><img class="img-50 img-fluid m-r-20 rounded-circle" src="assets/images/user/user.png" alt="">
                                <div class="media-body">
                                  <h6>Mark jecno</h6>
                                  <p>markjecno&#64;gmail.com</p>
                                </div>
                              </div>
                            </a><a class="nav-link" id="v-pills-iduser1-tab" data-bs-toggle="pill" href="#v-pills-iduser1" role="tab" aria-controls="v-pills-iduser1"
                              aria-selected="false">
                              <div class="media"><img class="img-50 img-fluid m-r-20 rounded-circle" src="assets/images/user/3.jpg" alt="">
                                <div class="media-body">
                                  <h6>Jason Borne</h6>
                                  <p>jasonb&#64;gmail.com</p>
                                </div>
                              </div>
                            </a><a class="nav-link" id="v-pills-iduser2-tab" data-bs-toggle="pill" href="#v-pills-iduser2" role="tab" aria-controls="v-pills-iduser2"
                              aria-selected="false">
                              <div class="media"><img class="img-50 img-fluid m-r-20 rounded-circle" src="assets/images/user/4.jpg" alt="">
                                <div class="media-body">
                                  <h6>Sarah Loren</h6>
                                  <p>barnes&#64;gmail.com</p>
                                </div>
                              </div>
                            </a><a class="nav-link" id="v-pills-iduser3-tab" data-bs-toggle="pill" href="#v-pills-iduser3" role="tab" aria-controls="v-pills-iduser3"
                              aria-selected="false">
                              <div class="media"><img class="img-50 img-fluid m-r-20 rounded-circle" src="assets/images/user/10.jpg" alt="">
                                <div class="media-body">
                                  <h6>Andew Jon</h6>
                                  <p>andrewj&#64;gmail.com</p>
                                </div>
                              </div>
                            </a></div>
                        </div>
                        <div class="col-xl-8 xl-50 col-md-7">
                          <div class="tab-content" id="v-pills-tabContent1">
                            <div class="tab-pane fade show active" id="v-pills-iduser" role="tabpanel" aria-labelledby="v-pills-iduser-tab">
                              <div class="profile-mail">
                                <div class="media"><img class="img-100 img-fluid m-r-20 rounded-circle update_img_5" src="assets/images/user/user.png" alt="">
                                  <div class="media-body mt-0">
                                    <h5><span class="first_name_5">Mark </span><span class="last_name_5">jecno</span>
                                    </h5>
                                    <p class="email_add_5">markjecno&#64;gmail.com</p>
                                    <ul>
                                      <li><a href="javascript:void(0)" (click)="Print.openModal()">Print</a></li>
                                    </ul>
                                  </div>
                                </div>
                                <div class="email-general">
                                  <h6>General</h6>
                                  <p>Email Address: <span class="font-primary email_add_5">markjecno&#64;gmail.com</span>
                                  </p>
                                  <div class="gender">
                                    <h6>Personal</h6>
                                    <p>Gender: <span>Male</span></p>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class="tab-pane fade" id="v-pills-iduser1" role="tabpanel" aria-labelledby="v-pills-iduser1-tab">
                              <div class="profile-mail">
                                <div class="media"><img class="img-100 img-fluid m-r-20 rounded-circle update_img_6" src="assets/images/user/3.jpg" alt="">
                                  <div class="media-body mt-0">
                                    <h5><span class="first_name_6">Jason </span><span class="last_name_6">Borne</span>
                                    </h5>
                                    <p class="email_add_6">jasonb&#64;gmail.com</p>
                                    <ul>
                                      <li><a href="javascript:void(0)" (click)="Print.openModal()">Print</a></li>
                                    </ul>
                                  </div>
                                </div>
                                <div class="email-general">
                                  <h6>General</h6>
                                  <p>Email Address: <span class="font-primary email_add_6">jasonb&#64;gmail.com</span></p>
                                  <div class="gender">
                                    <h6>Personal</h6>
                                    <p>Gender: <span>Male</span></p>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class="tab-pane fade" id="v-pills-iduser2" role="tabpanel" aria-labelledby="v-pills-iduser2-tab">
                              <div class="profile-mail">
                                <div class="media"><img class="img-100 img-fluid m-r-20 rounded-circle update_img_7" src="assets/images/user/4.jpg" alt="">
                                  <div class="media-body mt-0">
                                    <h5> <span class="first_name_7">Sarah </span><span class="last_name_7">Loren</span>
                                    </h5>
                                    <p class="email_add_7">barnes&#64;gmail.com</p>
                                    <ul>
                                      <li><a href="javascript:void(0)" (click)="Print.openModal()">Print</a></li>
                                    </ul>
                                  </div>
                                </div>
                                <div class="email-general">
                                  <h6>General</h6>
                                  <p>Email Address: <span class="font-primary email_add_7">barnes&#64;gmail.com</span></p>
                                  <div class="gender">
                                    <h6>Personal</h6>
                                    <p>Gender: <span>Female</span></p>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class="tab-pane fade" id="v-pills-iduser3" role="tabpanel" aria-labelledby="v-pills-iduser3-tab">
                              <div class="profile-mail">
                                <div class="media"><img class="img-100 img-fluid m-r-20 rounded-circle update_img_8" src="assets/images/user/10.jpg" alt="">
                                  <div class="media-body mt-0">
                                    <h5> <span class="first_name_8">Andew </span><span class="last_name_8">Jon</span>
                                    </h5>
                                    <p class="email_add_8">andrewj&#64;gmail.com</p>
                                    <ul>
                                      <li><a href="javascript:void(0)" (click)="Print.openModal()">Print</a></li>
                                    </ul>
                                  </div>
                                </div>
                                <div class="email-general">
                                  <h6>General</h6>
                                  <p>Email Address: <span class="font-primary email_add_8">andrewj&#64;gmail.com</span></p>
                                  <div class="gender">
                                    <h6>Personal</h6>
                                    <p>Gender: <span>Female</span></p>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div id="right-history" [class.show]="history">
                  <div class="modal-header p-20" (click)="showHistory()">
                    <h6 class="modal-title w-100">Contact History<span class="pull-right"><a class="closehistory" href="javascript:void(0)"><i
                            class="icofont icofont-close"></i></a></span></h6>
                  </div>
                  <div class="history-details">
                    <div class="text-center"><i class="icofont icofont-ui-edit"></i>
                      <p>Contact has not been modified yet.</p>
                    </div>
                    <div class="media"><i class="icofont icofont-star me-3"></i>
                      <div class="media-body mt-0">
                        <h6 class="mt-0">Contact Created</h6>
                        <p class="mb-0">Contact is created via mail</p><span class="f-12">Sep 10, 2022 4:00</span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<app-add-client #addClient (btnSaveEmitter)="OnSaveAddClient($event)"></app-add-client>
<app-add-category #addCategory></app-add-category>
<app-print-contact #print></app-print-contact>
<!-- Container-fluid Ends-->